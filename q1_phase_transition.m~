clear all

%enter b
Bvals = [1:1:50];

n = 1000; % number of resource sites 
x0 = 1000; %initial population number
t = 200;%simulate to t = 200
count = 1;
reps = 10;
hrange = 0:100:10000

for b = Bvals
    yall = [];
    count = count + 1
    
    for i = i:1:reps
        y = sim_population(n,x0,t,b);
        y_end = y(end);
        y_store = y((end/2+1):end);
        yall = [yall,y_store];
        %take the last half of the simulation
    end
    
    % take histogram
    histu(count,:) = hist(yall,hrange);
end


figure2 = figure('position', [0, 0, 700, 500]);
imagesc(Bvals,hrange,histu'
xlabel('t','FontSize',14)
ylabel('total population','FontSize',14)
title('population simulation', 'FontSize', 16)

%saveas(figure2,'test1.png');